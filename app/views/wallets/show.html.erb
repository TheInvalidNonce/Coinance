<div class="list-group">
  <div class="list-group-item list-group-item-action flex-column align-items-start">
    <div class="d-flex w-100 justify-content-between">
      <h5 class="mb-1">Your Wallet</h5>
      <small class="text-muted">Last Updated: <%= @wallet.updated_at.strftime("%A, %d %b %Y %l:%M %p") %></small>
    </div>
    <div class="container">
      <p class="mb-1">Wallet name: <%= @wallet.name %></p>
      <p class="mb-1">Coin: <%= @wallet.coin.name if @wallet.coin %></p>
      <p class="mb-1">Amount: <%= @wallet.coin_amount %> <%= @wallet.coin.symbol if @wallet.coin %></p>
      <p class="mb-1">Amount deposited: $<%= @wallet.user_deposit %></p>
      <p class="mb-1">Notes: <%= @wallet.notes if @wallet.notes %> </p><br>
      <div class="container">
        <div id="load_txs" >
          <h5 class="mb-1">Transactions</h5>
        </div>
      </div>
    </div>
    <hr class="my-4">
    <div class="container">
      <%= link_to "Transaction History",
          user_transactions_path(@tx),
          id: "load_tx",
          class: "btn btn-primary btn-lg", role: "button" if current_user %>
          
      <%= link_to "Edit", 
          edit_user_wallet_path(current_user, @wallet),
          class: "btn btn-primary btn-lg", role: "button" if current_user %>
                
      <%= link_to "Delete", user_wallet_path(current_user, @wallet), 
          method: :delete, 
          data: {confirm: "Are you sure you want to delete this wallet?"},
          class: "btn btn-primary btn-lg", role: "button" if current_user %>
      </div>
  </div>
</div>

<script id="wallet-tx-list-template" type="text/x-handlebars-template">
  {{#each this }}
  <div>
    <p class="mb-1">TxId: {{ id }}</p>
    <p class="mb-1">Wallet Id: {{ wallet.id }}</p>
    <p class="mb-1">Coin Name: {{ coin.name }}</p>
    <p class="mb-1">Amount: {{ amount }}</p>
    <p class="mb-1">Quantity: {{ quantity }} {{ coin.symbol }}</p>
    <p class="mb-1">Coin price: $ {{ price_per_coin }}</p>
    <p class="mb-1">Transaction fee: ${{ fee }}</p>
    <p class="mb-1">Created at: {{ created_at }}</p>
  </div>
  <hr>
  {{/each}}
  
</script>